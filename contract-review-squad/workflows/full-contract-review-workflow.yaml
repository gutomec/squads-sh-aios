workflow_name: full_contract_review
description: "Pipeline completo de revis√£o de contrato ‚Äî da extra√ß√£o de cl√°usulas ao relat√≥rio executivo com redlines"

agent_sequence:
  - clause-extractor
  - risk-flagger
  - playbook-enforcer
  - redline-drafter
  - summary-reporter

key_commands:
  - "*review-contract"
  - "*full-review"

trigger_threshold: 1
typical_duration: "30-60 minutes"

success_indicators:
  - "Cl√°usulas extra√≠das e estruturadas com partes e datas"
  - "Riscos identificados e pontuados com justificativa"
  - "Conformidade com playbook verificada ‚Äî desvios documentados"
  - "Redlines geradas com linguagem alternativa e rationale"
  - "Sum√°rio executivo com risk score, recomenda√ß√µes e decision matrix"

transitions:
  clauses_extracted:
    trigger: "Cl√°usulas extra√≠das ‚Äî extracted-clauses.json gerado"
    confidence: 0.95
    greeting_message: "üìÑ Cl√°usulas extra√≠das. Iniciando an√°lise de riscos."
    next_steps:
      - command: "*flag-risks"
        args_template: "--clauses={extracted_clauses_path}"
        description: "Identificar e pontuar riscos em cada cl√°usula"
        priority: 1

  risks_flagged:
    trigger: "Riscos identificados ‚Äî risk-report.json gerado"
    confidence: 0.90
    greeting_message: "‚ö†Ô∏è Riscos identificados. Verificando conformidade com playbook."
    next_steps:
      - command: "*enforce-playbook"
        args_template: "--clauses={extracted_clauses_path} --playbook={playbook_path}"
        description: "Verificar cada cl√°usula contra o playbook corporativo"
        priority: 1

  playbook_checked:
    trigger: "Compliance verificado ‚Äî compliance-report.json gerado"
    confidence: 0.90
    greeting_message: "üìò Conformidade verificada. Gerando redlines."
    next_steps:
      - command: "*draft-redlines"
        args_template: "--risks={risk_report_path} --compliance={compliance_report_path}"
        description: "Gerar redlines com linguagem alternativa para cl√°usulas flaggadas"
        priority: 1

  redlines_drafted:
    trigger: "Redlines geradas ‚Äî redlined-document.md gerado"
    confidence: 0.95
    greeting_message: "‚úèÔ∏è Redlines geradas. Produzindo relat√≥rio executivo."
    next_steps:
      - command: "*generate-summary"
        args_template: "--review_data={review_output_path}"
        description: "Consolidar tudo em sum√°rio executivo com recomenda√ß√µes"
        priority: 1

  review_complete:
    trigger: "Sum√°rio executivo gerado ‚Äî executive-summary.md gerado"
    confidence: 0.95
    greeting_message: "üìä Revis√£o completa! Relat√≥rio executivo dispon√≠vel."
    next_steps:
      - command: "*create-report"
        description: "Exportar relat√≥rio em formato desejado"
        priority: 1
