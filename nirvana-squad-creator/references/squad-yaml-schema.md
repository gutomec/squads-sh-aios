# Squad YAML Schema Reference

**Source:** [squads-guide.md](https://github.com/SynkraAI/aios-core/blob/main/docs/guides/squads-guide.md), [squads-overview.md](https://github.com/SynkraAI/aios-core/blob/main/docs/guides/squads-overview.md)
**Confidence:** HIGH

---

## Structure Overview

The `squad.yaml` file is the manifest for an AIOS squad. It declares the squad's identity, AIOS compatibility, component files (agents, tasks, workflows), configuration inheritance, external dependencies, and discovery tags.

This file lives at the root of the squad directory and is the entry point for AIOS Core's squad loader.

---

## Required Fields

| Field | Type | Description | Constraints |
|-------|------|-------------|-------------|
| `name` | string | Squad identifier | kebab-case, unique across squads |
| `version` | string | Squad version | Semantic versioning (e.g., `1.0.0`) |
| `description` | string | What this squad does | Free text, concise. **MUST be inline quoted string** — never use YAML multi-line (`\|` or `>`), which is parsed as `object,object` by the AIOS validator |
| `aios` | object | AIOS compatibility block | Contains `minVersion` and `type` |
| `aios.minVersion` | string | Minimum AIOS Core version required | Semantic versioning (e.g., `2.1.0`) |
| `aios.type` | string | Component type | Always `"squad"` |
| `components` | object | File listings by type | Contains `agents`, `tasks`, `workflows` arrays |

---

## Optional Fields

| Field | Type | Description |
|-------|------|-------------|
| `author` | string | Author name and/or email (e.g., `"Name <email>"`) |
| `license` | string | License identifier (e.g., `MIT`, `Apache-2.0`) |
| `slashPrefix` | string | Command prefix in IDE (e.g., `etl` enables `/etl:command`) |
| `components.checklists` | array | Validation checklist files |
| `components.templates` | array | Document template files |
| `components.tools` | array | Custom tool definition files |
| `components.scripts` | array | Utility script files |
| `config` | object | Configuration inheritance settings |
| `config.extends` | enum | Inheritance mode: `extend` \| `override` \| `none` |
| `config.coding-standards` | string | Path to coding standards file |
| `config.tech-stack` | string | Path to tech stack file |
| `config.source-tree` | string | Path to source tree file |
| `dependencies` | object | External dependencies |
| `dependencies.node` | array | npm package dependencies |
| `dependencies.python` | array | pip package dependencies |
| `dependencies.squads` | array | Other squad dependencies (semver format: `"squad-name@^1.0.0"`) |
| `tags` | array | Discovery and categorization tags |

---

## Config Inheritance Modes

| Mode | Behavior |
|------|----------|
| `extend` | Squad's config files add rules on top of AIOS Core's default configuration. Both sets of rules apply. This is the most common mode. |
| `override` | Squad's config files completely replace AIOS Core's defaults. Only the squad's rules apply. Use for squads with specialized conventions that conflict with defaults. |
| `none` | No config inheritance. The squad operates standalone without referencing AIOS Core configuration. Use for fully self-contained squads. |

---

## Complete Example

```yaml
# --- Identity ---
name: etl-squad
version: 1.0.0
description: "ETL pipeline squad for data warehouse ingestion"

author: "Generated by Nirvana Squad Creator"
license: MIT
slashPrefix: etl

# --- AIOS Compatibility ---
aios:
  minVersion: "2.1.0"
  type: squad

# --- Components ---
components:
  agents:
    - data-extractor.md
    - transformer.md
    - loader.md
    - qa-validator.md
  tasks:
    - extract-data.md
    - transform-records.md
    - load-to-warehouse.md
    - validate-pipeline.md
  workflows:
    - etl-pipeline.yaml
    - data-validation.yaml
  checklists:
    - pre-extraction-checks.md
  templates:
    - extraction-report.md
  tools: []
  scripts:
    - scripts/validate-source.sh
    - scripts/check-schema.sh

# --- Config Inheritance ---
config:
  extends: extend
  coding-standards: config/coding-standards.md
  tech-stack: config/tech-stack.md
  source-tree: config/source-tree.md

# --- Dependencies ---
dependencies:
  node:
    - "pg@^8.11.0"
    - "csv-parser@^3.0.0"
  python: []
  squads:
    - "monitoring-squad@^1.0.0"

# --- Discovery ---
tags:
  - etl
  - data-pipeline
  - warehouse
  - ingestion
```

---

## Components Structure

The `components` object organizes all files that compose the squad:

| Component | File Type | Purpose |
|-----------|-----------|---------|
| `agents` | `.md` files | Agent personality and behavior definitions |
| `tasks` | `.md` files | Task specifications with inputs/outputs |
| `workflows` | `.yaml` files | Workflow pattern definitions with agent sequences |
| `checklists` | `.md` files | Validation and quality checklists |
| `templates` | `.md` files | Document and report templates |
| `tools` | varies | Custom tool definitions |
| `scripts` | varies | Utility scripts (bash, python, etc.) |

All file paths are relative to the squad root directory. Every file listed in `components` is expected to exist at the specified path.

---

## Validation Rules

- `name` is in kebab-case (lowercase letters, numbers, and hyphens only)
- `version` is valid semantic versioning (MAJOR.MINOR.PATCH)
- `aios.minVersion` is valid semver and compatible with the installed AIOS Core version
- `aios.type` is exactly `"squad"`
- All files listed in `components` arrays exist in the squad directory
- `config.extends` is one of: `extend`, `override`, `none`
- Squad dependency references in `dependencies.squads` use semver range format (`"name@^version"`)
- `slashPrefix` is a short, kebab-case string without special characters
- **`description` MUST be an inline quoted string** — never use YAML multi-line block scalars (`|` or `>`). The AIOS parser does not validate multi-line blocks and interprets them as `object,object` instead of string. Always use: `description: "concise text on a single line"`

---

*Reference extracted from AIOS Core official documentation.*
*Last updated: 2026-02-20*
