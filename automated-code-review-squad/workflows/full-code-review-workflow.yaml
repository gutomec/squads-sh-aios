workflow_name: full_code_review
description: "Pipeline completo de code review automatizado ‚Äî revis√£o de seguran√ßa, an√°lise l√≥gica, verifica√ß√£o arquitetural, enforcement de estilo e gera√ß√£o de review summary priorizado com verdict"

agent_sequence:
  - security-reviewer
  - logic-reviewer
  - architecture-checker
  - style-enforcer
  - review-summary-writer

key_commands:
  - "*full-review"
  - "*code-review"

trigger_threshold: 1
typical_duration: "30-60 minutes"

success_indicators:
  - "Vulnerabilidades de seguran√ßa OWASP Top 10 verificadas"
  - "Edge cases e race conditions identificados"
  - "Ader√™ncia a padr√µes arquiteturais verificada"
  - "Coding standards enfor√ßados"
  - "Review summary priorizado com verdict (APPROVE/REQUEST_CHANGES/BLOCK)"

transitions:
  security_reviewed:
    trigger: "Revis√£o de seguran√ßa completa ‚Äî vulnerabilidades classificadas"
    confidence: 0.90
    greeting_message: "üîí Seguran√ßa revisada. Analisando l√≥gica."
    next_steps:
      - command: "*review-logic"
        args_template: "--code={code}"
        description: "Analisar l√≥gica e corretude do c√≥digo"
        priority: 1

  logic_reviewed:
    trigger: "An√°lise l√≥gica completa ‚Äî edge cases e corretude verificados"
    confidence: 0.90
    greeting_message: "üß† L√≥gica analisada. Verificando arquitetura."
    next_steps:
      - command: "*check-architecture"
        args_template: "--code={code}"
        description: "Verificar ader√™ncia a padr√µes arquiteturais"
        priority: 1

  architecture_checked:
    trigger: "Verifica√ß√£o arquitetural completa ‚Äî padr√µes e acoplamento analisados"
    confidence: 0.90
    greeting_message: "üèóÔ∏è Arquitetura verificada. Enfor√ßando estilo."
    next_steps:
      - command: "*check-style"
        args_template: "--code={code}"
        description: "Verificar ader√™ncia a coding standards"
        priority: 1

  style_enforced:
    trigger: "Coding standards verificados ‚Äî naming e formata√ß√£o validados"
    confidence: 0.95
    greeting_message: "‚úÖ Estilo verificado. Gerando review summary."
    next_steps:
      - command: "*write-summary"
        args_template: "--findings={all_findings}"
        description: "Gerar sum√°rio priorizado com verdict"
        priority: 1

  review_complete:
    trigger: "Review summary gerado com verdict e findings priorizados"
    confidence: 0.95
    greeting_message: "üìù Code review completo! Summary dispon√≠vel."
    next_steps:
      - command: "*full-review"
        args_template: "--code={next_code}"
        description: "Opcional: iniciar novo code review"
        priority: 2
